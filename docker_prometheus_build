FROM alpine:3.21

RUN mkdir -p /var/tarantula/prometheus/data

RUN apk add --no-cache prometheus

# Add your Prometheus configuration and other necessary files
COPY prometheus.yaml /etc/prometheus/prometheus.yml
COPY token.txt /etc/prometheus/token.txt

ENTRYPOINT ["prometheus", "--config.file=/etc/prometheus/prometheus.yml", "--storage.tsdb.path=/var/tarantula/prometheus/data"]