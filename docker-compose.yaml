name: tarantula
services:
  presence:
    container_name: presence
    hostname: presence
    image: tarantula.presence:v1.0  
    ports:
      - "5000:5000"
    networks:
      - net
  asset:
    container_name: asset
    hostname: asset
    image: tarantula.asset:v1.0
    ports:
      - "5001:5001"
    networks:
      - net
  profile:
    container_name: profile
    hostname: profile
    image: tarantula.profile:v1.0
    ports:
      - "5002:5002"
    networks:
      - net  
  inventory:
    container_name: inventory
    hostname: inventory
    image: tarantula.inventory:v1.0
    ports:
      - "5003:5003"
    networks:
      - net
  tournament:
    container_name: tournament
    hostname: tournament
    image: tarantula.tournament:v1.0
    networks:
      - net    
  admin:
    container_name: admin
    hostname: admin
    image: tarantula.admin:v1.0
    networks:
      - net
  web:
    container_name: web
    hostname: web
    image: tarantula.nginx:latest
    ports:
      - "80:80"
    depends_on:
      - presence
      - asset
      - profile
      - inventory
      - tournament
      - admin
    networks:
      - net
networks:
  net:
    driver: bridge 
    ipam:
      config:
        - subnet: 10.20.0.0/16
          gateway: 10.20.0.1